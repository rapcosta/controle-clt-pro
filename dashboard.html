<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Painel do Sistema - Controle CLT Pro</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="container">

<h1>Painel do Sistema</h1>
<p id="usuarioLogado"></p>

<div class="menu">

<button id="btnFuncionarios" onclick="irFuncionarios()">Funcionários</button>

<button id="btnContracheque" onclick="irContracheque()">Gerar Contracheque</button>

<button id="btnCadastro" onclick="irCadastro()">Cadastrar Funcionário</button>

<button onclick="irHistorico()">Histórico de Contracheques</button>

<button id="btnUsuarios" onclick="irUsuarios()">Gerenciar Usuários</button>

<button onclick="window.location='importar.html'">Importar Funcionários (Excel)</button>

</div>

<button class="logout" onclick="logout()">Sair</button>

</div>

<script>

/* ========================= */
/* PROTEÇÃO LOGIN */
/* ========================= */
if(localStorage.getItem("logado") !== "sim"){
window.location="login.html"
}

/* ========================= */
/* OBTER USUÁRIO LOGADO */
/* ========================= */

const usuario = JSON.parse(localStorage.getItem("usuarioLogado"))

document.getElementById("usuarioLogado").innerText =
"Usuário: " + usuario.nome

/* ========================= */
/* CONTROLE DE ACESSO */
/* ========================= */

/* apenas admin gerencia usuários */
if(usuario.nome !== "admin"){
document.getElementById("btnUsuarios").style.display="none"
}

/* ========================= */
/* NAVEGAÇÃO */
/* ========================= */
function irFuncionarios(){
window.location="funcionarios.html"
}

function irContracheque(){
window.location="contracheque.html"
}

function irCadastro(){
window.location="cadastro.html"
}

function irHistorico(){
window.location="historico.html"
}

function irUsuarios(){
window.location="usuarios.html"
}

/* ========================= */
/* LOGOUT */
/* ========================= */
function logout(){
localStorage.removeItem("logado")
localStorage.removeItem("usuarioLogado")
window.location="login.html"
}

</script>

</body>
</html>
